<!DOCTYPE html>
<html lang="en">
	<head>
		<title>BikeVR</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/pure-min.css">
	</head>
	<body>
		<!-- <div id="loading">Loading...</div>
		<div id="progress"></div> -->

		<div id="vr">
			<div id="controls" class="padding-bottom">
				<button id="back" class="pure-button">Route</button><br>
				<button id="connect" class="pure-button pure-button-primary">Connect</button><br>
				<button id="playToggle" class="pure-button button-success">></button><br>
				<button id="mapToggle" class="pure-button" style="display: none">-</button>
			</div>
			<!-- <div id="map"></div> -->
		</div>

		<!-- Shaders! -->
		<script type="x-shader/x-vertex" id="vertexShader">
			uniform sampler2D displace;
			
			varying vec2 vUv;

			void main() {
				// Pass uv to fragment
				vUv = uv;

				float df = 20.0 * texture2D(displace, uv).r;
				vec4 displacedPosition = vec4(normal * df, 0.0) + vec4(position, 1.0) / 250.0;

				// Clear out ripples at base center
				displacedPosition.y = max(-1.4, displacedPosition.y);

				gl_Position = projectionMatrix * modelViewMatrix * displacedPosition;
			}
		</script>
		<script type="x-shader/x-fragment" id="fragmentShader">
			uniform sampler2D texture;
			uniform float nextBlend;

			varying vec2 vUv;
			
			void main() {
				vec4 color = vec4(texture2D(texture, vUv).rgb, nextBlend);
				gl_FragColor = color;
			}
		</script>

		<!-- Maybe add in the api key here? -->
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6UARVCUzMTt42FlGx-HRWlPPr2NJhzVM" type="text/javascript"></script>

		<script src="js/lib/v3_epoly.js" type="text/javascript"></script>
		<script src="js/lib/hidden.js" type="text/javascript"></script>
		
		<script src="js/lib/pako_inflate.min.js" type="text/javascript"></script>
		<script src="js/lib/GSVPano.js" type="text/javascript"></script>
		<script src="js/lib/GSVPanoDepth.js" type="text/javascript"></script>

		<script src="js/lib/three.js" type="text/javascript"></script>
		<script src="js/lib/stats.min.js" type="text/javascript"></script>
		<script src="js/lib/threex.rendererstats.js" type="text/javascript"></script>
		<script src="js/lib/FirstPersonControls.js" type="text/javascript"></script>
		<script src="js/lib/WebVR.js" type="text/javascript"></script>

		<script src="js/route.js" type="text/javascript"></script>
		<script src="js/bluetooth.js" type="text/javascript"></script>
		<script src="js/keys.js" type="text/javascript"></script>
		<script src="js/util.js" type="text/javascript"></script>
		<script src="js/index.js" type="text/javascript"></script>
	</body>
</html>