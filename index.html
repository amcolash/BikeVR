<!DOCTYPE html>
<html lang="en">
	<head>
		<title>BikeVR</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		
		<!-- Reload every 3 seconds for simplicity -->
		<!-- <meta http-equiv="refresh" content="10" > -->

		<link rel="stylesheet" href="css/style.css">
	</head>
	<body>
		<div id="loading">Loading...</div>
		<div id="progress"></div>

		<div id="vr">
			<div id="controls" class="padding-bottom">
				<button id="playToggle">></button>
				<button id="mapToggle">-</button>
			</div>
			<div id="map"></div>
		</div>

		<!-- Shaders! -->
		<script type="x-shader/x-vertex" id="vertexShader">
			varying vec2 vUv;
			uniform sampler2D displace;
			void main() {
				vUv = uv;
				vec4 vPosition = modelViewMatrix * vec4(position.xyz, 1.0);
				vec3 vNormal = normalize(normalMatrix * normal);
				vec3 displacementVector = texture2D(displace, vUv).xyz;
				float df = 20.0 * displacementVector.x;
				vec4 displacedPosition = vec4(vNormal.xyz * df, 0.0) + (vPosition / 250.0);
				gl_Position = projectionMatrix * displacedPosition;
			}
		</script>
		<script type="x-shader/x-fragment" id="fragmentShader">
			varying vec2 vUv;
			uniform sampler2D texture;
			uniform float alpha;
			void main() {
				vec4 color = texture2D(texture, vUv);
				gl_FragColor = color * alpha;
			}
		</script>

		<!-- Maybe add in the api key here? -->
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6UARVCUzMTt42FlGx-HRWlPPr2NJhzVM" type="text/javascript"></script>
		<script src="js/lib/v3_epoly.js" type="text/javascript"></script>

		<script src="js/lib/hidden.js" type="text/javascript"></script>
		
		<script src="js/lib/jquery.min.js" type="text/javascript"></script>
		<script src="js/lib/jquery.base64.min.js" type="text/javascript"></script>
		<script src="js/lib/zpipe.min.js" type="text/javascript"></script>
		<script src="js/lib/GSVPano.js" type="text/javascript"></script>
		<script src="js/lib/GSVPanoDepth.js" type="text/javascript"></script>

		<script src="js/lib/three.min.js" type="text/javascript"></script>
		<script src="js/lib/stats.min.js" type="text/javascript"></script>
		<script src="js/lib/threex.rendererstats.js" type="text/javascript"></script>
		<script src="js/lib/FirstPersonControls.js" type="text/javascript"></script>
		<script src="js/lib/WebVR.js" type="text/javascript"></script>

		<script src="js/route.js" type="text/javascript"></script>
		<script src="js/keys.js" type="text/javascript"></script>
		<script src="js/util.js" type="text/javascript"></script>
		<script src="js/index.js" type="text/javascript"></script>
	</body>
</html>